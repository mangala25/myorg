try {
	
	node
	{  		
		stage('clean-workspace') {
		    echo "current working direcotiy is :" 
		    echo pwd
		    sh 'rm -rf /var/lib/jenkins/workspace/RandomProject/*'
		    //sh 'mvn --version'
		   // def mvnTool = new MavenTool('Maven 3.3.9')
		    //mvnTool.mvn this, "clean install"
		    //mvnTool.mvn this, "clean package"
		    echo "before maven clean"
		    sh 'java -version'
		    sh 'mvn --version'
		    
		   maven 'mvn clean'
		   echo "after maven clean"
		}
		stage('git-latest') {
		    echo 'git-latest'
			
		    def rtGradle = Artifactory.newGradleBuild()
		    def config = [:]
		    //config.serviceRepo = 'https://github.com/varunasunmathi/test.git'
		    config.serviceRepo = 'git@ec2-54-84-120-131.compute-1.amazonaws.com:/home/git/ArchitectureTeam.git'
    		    config.gitBranch = 'master'	
		    echo "check out branch ${config.gitBranch} from ${config.serviceRepo}"
			
                    git branch: config.gitBranch, url: config.serviceRepo //working step
			
    		    //env.JAVA_HOME="${tool 'jdk8u162'}"
		}
		stage('mvn-build') {
		    echo 'mvn-build'
			
		    
		}
		stage('mvn-junit') {
		    echo 'mvn-junit'
		}
		stage('mvn-sonar') {
		    echo 'mvn-sonar'
		}
		stage('pcf-push'){
		    echo 'pcf-push'
		}
	
	}
}
catch (e){
        echo "${e}"
}
